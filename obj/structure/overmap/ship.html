<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;structure&#x2F;overmap&#x2F;ship - Shiptest 13</title>
</head>
<body>
<header>
    <a href="index.html">Shiptest 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/structure/overmap/ship.html#var">Var Details</a> - <a href="obj/structure/overmap/ship.html#proc">Proc Details</a></header>
<main>
<h1>ship <aside>/<a href="obj.html">obj</a>/<a href="obj/structure/overmap.html">structure/overmap</a>/<a href="obj/structure/overmap/ship.html">ship</a></aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L5">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 5"/></a></h1>

<h2 id="overmap-ships">Overmap ships</h2>
<p>Basically, any overmap object that is capable of moving by itself.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/acceleration_speed">acceleration_speed</a></th><td>ONLY USED FOR NON-SIMULATED SHIPS. The amount per burn that this ship accelerates</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/base_icon_state">base_icon_state</a></th><td>Prefix of all the icons used by the ship. ([base_icon_state]_moving and [base_icon_state]_damaged)</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/current_autopilot_target">current_autopilot_target</a></th><td>The current target for the autopiloting system</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/max_speed">max_speed</a></th><td>Max possible speed (1 tile per second)</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/min_speed">min_speed</a></th><td>Minimum speed. Any lower is rounded down. (0.5 tiles per minute)</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/movement_callback_id">movement_callback_id</a></th><td>Timer ID of the looping movement timer</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#var/speed">speed</a></th><td>The current speed in x/y direction in grid squares per minute</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/accelerate">accelerate</a></th><td>Change the speed in a specified dir.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/adjust_speed">adjust_speed</a></th><td>Change the speed in any direction.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/burn_engines">burn_engines</a></th><td>Burns the engines in one direction, accelerating in that direction.
Unsimulated ships use the acceleration_speed var, simulated ships check eacch engine's thrust and fuel.
If no dir variable is provided, it decelerates the vessel.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/decelerate">decelerate</a></th><td>Reduce the speed or stop in all directions.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/get_eta">get_eta</a></th><td>Returns the estimated time in deciseconds to the next tile at current speed, or approx. time until reaching the destination when on autopilot</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/get_heading">get_heading</a></th><td>Returns the direction the ship is moving in terms of dirs</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/get_speed">get_speed</a></th><td>Returns the total speed in all directions.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/handle_wraparound">handle_wraparound</a></th><td>Check if the ship is flying into the border of the overmap.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/is_still">is_still</a></th><td>Returns whether or not the ship is moving in any direction.</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/tick_autopilot">tick_autopilot</a></th><td>Ticks the autopiloting system.
Returns if there's no target, decelerates and returns if target reached.
If stopped, burn towards the target, otherwise if going in the right direction, do nothing, if going in the wrong direction, stop.
returns FALSE until destination is reached</td></tr>
            <tr><th><a href="obj/structure/overmap/ship.html#proc/tick_move">tick_move</a></th><td>Called by /proc/adjust_speed(), this continually moves the ship according to it's speed</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/acceleration_speed"><aside class="declaration">var </aside>acceleration_speed
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L24">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 24"/></a></h3>
        <p>ONLY USED FOR NON-SIMULATED SHIPS. The amount per burn that this ship accelerates</p><h3 id="var/base_icon_state"><aside class="parent"><a title="/atom" href="atom.html#var/base_icon_state">&uarr;</a></aside>base_icon_state
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L11">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 11"/></a></h3>
        <p>Prefix of all the icons used by the ship. ([base_icon_state]_moving and [base_icon_state]_damaged)</p><h3 id="var/current_autopilot_target"><aside class="declaration">var </aside>current_autopilot_target
            <aside>&ndash; /<a href="atom.html">atom</a></aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L22">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 22"/></a></h3>
        <p>The current target for the autopiloting system</p><h3 id="var/max_speed"><aside class="declaration">var </aside>max_speed
            <aside>&ndash; /static</aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L16">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 16"/></a></h3>
        <p>Max possible speed (1 tile per second)</p><h3 id="var/min_speed"><aside class="declaration">var </aside>min_speed
            <aside>&ndash; /static</aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L18">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 18"/></a></h3>
        <p>Minimum speed. Any lower is rounded down. (0.5 tiles per minute)</p><h3 id="var/movement_callback_id"><aside class="declaration">var </aside>movement_callback_id
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L14">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 14"/></a></h3>
        <p>Timer ID of the looping movement timer</p><h3 id="var/speed"><aside class="declaration">var </aside>speed
            <aside>&ndash; /list/list</aside>
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L20">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 20"/></a></h3>
        <p>The current speed in x/y direction in grid squares per minute</p><h2 id="proc">Proc Details</h2><h3 id="proc/accelerate"><aside class="declaration">proc </aside>accelerate<aside>(direction, acceleration) 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L134">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 134"/></a></aside>
        </h3>
        <p>Change the speed in a specified dir.</p>
<ul>
<li>direction - dir to accelerate in (NORTH, SOUTH, SOUTHEAST, etc.)</li>
<li>acceleration - How much to accelerate by</li>
</ul><h3 id="proc/adjust_speed"><aside class="declaration">proc </aside>adjust_speed<aside>(n_x, n_y) 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L36">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 36"/></a></aside>
        </h3>
        <p>Change the speed in any direction.</p>
<ul>
<li>n_x - Speed in the X direction to change</li>
<li>n_y - Speed in the Y direction to change</li>
</ul><h3 id="proc/burn_engines"><aside class="declaration">proc </aside>burn_engines<aside>(n_dir, percentage) 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L199">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 199"/></a></aside>
        </h3>
        <p>Burns the engines in one direction, accelerating in that direction.
Unsimulated ships use the acceleration_speed var, simulated ships check eacch engine's thrust and fuel.
If no dir variable is provided, it decelerates the vessel.</p>
<ul>
<li>n_dir - The direction to move in</li>
</ul><h3 id="proc/decelerate"><aside class="declaration">proc </aside>decelerate<aside>(acceleration) 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L156">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 156"/></a></aside>
        </h3>
        <p>Reduce the speed or stop in all directions.</p>
<ul>
<li>acceleration - How much to decelerate by</li>
</ul><h3 id="proc/get_eta"><aside class="declaration">proc </aside>get_eta<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L117">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 117"/></a></aside>
        </h3>
        <p>Returns the estimated time in deciseconds to the next tile at current speed, or approx. time until reaching the destination when on autopilot</p><h3 id="proc/get_heading"><aside class="declaration">proc </aside>get_heading<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L100">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 100"/></a></aside>
        </h3>
        <p>Returns the direction the ship is moving in terms of dirs</p><h3 id="proc/get_speed"><aside class="declaration">proc </aside>get_speed<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L92">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 92"/></a></aside>
        </h3>
        <p>Returns the total speed in all directions.</p>
<p>The equation for acceleration is as follows:
60 SECONDS / (1 / ([ship's speed] / ([ship's mass] * 100)))</p><h3 id="proc/handle_wraparound"><aside class="declaration">proc </aside>handle_wraparound<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L172">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 172"/></a></aside>
        </h3>
        <p>Check if the ship is flying into the border of the overmap.</p><h3 id="proc/is_still"><aside class="declaration">proc </aside>is_still<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L83">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 83"/></a></aside>
        </h3>
        <p>Returns whether or not the ship is moving in any direction.</p><h3 id="proc/tick_autopilot"><aside class="declaration">proc </aside>tick_autopilot<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L211">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 211"/></a></aside>
        </h3>
        <p>Ticks the autopiloting system.
Returns if there's no target, decelerates and returns if target reached.
If stopped, burn towards the target, otherwise if going in the right direction, do nothing, if going in the wrong direction, stop.
returns FALSE until destination is reached</p><h3 id="proc/tick_move"><aside class="declaration">proc </aside>tick_move<aside>() 
        
    
            <a href="https://github.com/shiptest-ss13/Shiptest/blob/4f2130033b4110f00067c70c389dcd9aca32ec3a/whitesands/code/modules/overmap/ships/_ships.dm#L58">
        <img src="git.png" width="16" height="16" title="whitesands&#x2F;code&#x2F;modules&#x2F;overmap&#x2F;ships&#x2F;_ships.dm 58"/></a></aside>
        </h3>
        <p>Called by /proc/adjust_speed(), this continually moves the ship according to it's speed</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/shiptest-ss13/Shiptest/tree/4f2130033b4110f00067c70c389dcd9aca32ec3a">4f21300</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.0</a></footer>
</body>
</html>
